{"ast":null,"code":"import { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/ingredientsDB.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = [\"matPaginator\"];\n\nfunction IngredientsDBComponent_th_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"th\", 22);\n    i0.ÉµÉµtext(1, \" Nombre \");\n    i0.ÉµÉµelementEnd();\n  }\n}\n\nfunction IngredientsDBComponent_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"td\", 23);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r10 = ctx.$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", element_r10.name, \" \");\n  }\n}\n\nfunction IngredientsDBComponent_th_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"th\", 24);\n    i0.ÉµÉµtext(1, \" Notas \");\n    i0.ÉµÉµelementEnd();\n  }\n}\n\nfunction IngredientsDBComponent_td_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"td\", 25);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r11 = ctx.$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", element_r11.notes, \" \");\n  }\n}\n\nfunction IngredientsDBComponent_th_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"th\", 26);\n  }\n}\n\nfunction IngredientsDBComponent_td_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ÉµÉµgetCurrentView();\n\n    i0.ÉµÉµelementStart(0, \"td\", 25);\n    i0.ÉµÉµelementStart(1, \"a\", 27);\n    i0.ÉµÉµlistener(\"click\", function IngredientsDBComponent_td_27_Template_a_click_1_listener() {\n      const restoredCtx = i0.ÉµÉµrestoreView(_r14);\n      const element_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ÉµÉµnextContext();\n      return ctx_r13.editIngredient(element_r12._id, element_r12.name, element_r12.notes);\n    });\n    i0.ÉµÉµelementStart(2, \"mat-icon\", 28);\n    i0.ÉµÉµtext(3, \"edit\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"a\", 27);\n    i0.ÉµÉµlistener(\"click\", function IngredientsDBComponent_td_27_Template_a_click_4_listener() {\n      const restoredCtx = i0.ÉµÉµrestoreView(_r14);\n      const element_r12 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ÉµÉµnextContext();\n      return ctx_r15.removeIngredient(element_r12._id, element_r12.name);\n    });\n    i0.ÉµÉµelementStart(5, \"mat-icon\", 29);\n    i0.ÉµÉµtext(6, \" delete \");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementEnd();\n  }\n}\n\nfunction IngredientsDBComponent_tr_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"tr\", 30);\n  }\n}\n\nfunction IngredientsDBComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"tr\", 31);\n  }\n}\n\nexport let IngredientsDBComponent = /*#__PURE__*/(() => {\n  class IngredientsDBComponent {\n    constructor(ingsDBService, _snackbar, router) {\n      this.ingsDBService = ingsDBService;\n      this._snackbar = _snackbar;\n      this.router = router; // VARIABLES\n\n      this.pageSizeOptions = [5, 10, 25, 50, 100];\n      this.displayedColumns = ['name', 'notes', 'actions'];\n      this.editMode = [{\n        name: '',\n        notes: ''\n      }, false];\n      this.dbIngredients = [];\n    } // LIFECYCLE\n\n\n    ngOnInit() {\n      this.loadIngredientsDB();\n    }\n\n    ngAfterViewInit() {} // FUNCTIONS\n\n\n    applyFilter(event) {\n      const currentFilter = event.target.value; // console.log(currentFilter);\n\n      this.ING_DATA.filter = currentFilter.trim().toLowerCase();\n    }\n\n    editIngredient(id, name, notes) {\n      this._snackbar.open('Iniciando ediciÃ³n', '', {\n        verticalPosition: 'bottom',\n        horizontalPosition: 'center',\n        duration: 1500\n      });\n\n      this.editMode[0] = {\n        name: name,\n        _id: id,\n        notes: notes\n      };\n      this.editMode[1] = true;\n      console.log('ðŸš€ ~ IngredientsDBComponent ~ editIngredient ~ editMode', this.editMode);\n    }\n\n    loadIngredientsDB() {\n      this.ingsDBService.getIngredientsDB().subscribe(res => {\n        this.dbIngredients = res;\n        this.ING_DATA = new MatTableDataSource(this.dbIngredients);\n        this.ING_DATA.paginator = this.paginator;\n      }, err => console.log(err));\n    }\n\n    removeIngredient(id, name) {\n      this.ingsDBService.removeIngredient(id).subscribe(res => {\n        console.log(res);\n        this.loadIngredientsDB();\n\n        this._snackbar.open(`Se borrÃ³ ingrediente: ${name}`, '', {\n          verticalPosition: 'bottom',\n          duration: 1500,\n          horizontalPosition: 'center'\n        });\n      }, err => console.log(err));\n    }\n\n  }\n\n  IngredientsDBComponent.Éµfac = function IngredientsDBComponent_Factory(t) {\n    return new (t || IngredientsDBComponent)(i0.ÉµÉµdirectiveInject(i1.IngredientsDBService), i0.ÉµÉµdirectiveInject(i2.MatSnackBar), i0.ÉµÉµdirectiveInject(i3.Router));\n  };\n\n  IngredientsDBComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n    type: IngredientsDBComponent,\n    selectors: [[\"app-ingDB\"]],\n    viewQuery: function IngredientsDBComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ÉµÉµviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ÉµÉµqueryRefresh(_t = i0.ÉµÉµloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 32,\n    vars: 6,\n    consts: [[1, \"container\"], [1, \"table-button-container\"], [1, \"sectionHeader\"], [1, \"spacer\"], [3, \"editMode\"], [\"appearance\", \"standard\", 1, \"table-filter-input\"], [\"matInput\", \"\", \"placeholder\", \"Qu\\u00E9 desea buscar\", \"autocomplete\", \"off\", 3, \"keyup\"], [\"input\", \"\"], [1, \"mat-elevation-z6\", \"ingTable\"], [\"mat-table\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"name\"], [\"class\", \"colName\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"class\", \"selectRow\", \"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"notes\"], [\"class\", \"colNotes\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"actions\"], [\"class\", \"colActions\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"length\", \"pageSizeOptions\"], [\"matPaginator\", \"\"], [\"mat-header-cell\", \"\", 1, \"colName\"], [\"mat-cell\", \"\", 1, \"selectRow\"], [\"mat-header-cell\", \"\", 1, \"colNotes\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\", 1, \"colActions\"], [1, \"tableAction\", 3, \"click\"], [\"matTooltip\", \"Editar ingrediente\", 1, \"mat-icon-edit\"], [\"matTooltip\", \"Eliminar ingrediente\", \"matTooltipClass\", \"tooltip-red\", 1, \"mat-icon-delete\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function IngredientsDBComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ÉµÉµelementStart(0, \"div\", 0);\n        i0.ÉµÉµelementStart(1, \"div\", 1);\n        i0.ÉµÉµelementStart(2, \"div\");\n        i0.ÉµÉµelementStart(3, \"span\", 2);\n        i0.ÉµÉµtext(4, \"Ingredientes\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(5, \"p\");\n        i0.ÉµÉµelementStart(6, \"i\");\n        i0.ÉµÉµtext(7, \"(digite ingrediente a agregar)\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelement(8, \"div\", 3);\n        i0.ÉµÉµelement(9, \"app-create-ingredient\", 4);\n        i0.ÉµÉµelement(10, \"div\", 3);\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(11, \"div\", 0);\n        i0.ÉµÉµelementStart(12, \"mat-form-field\", 5);\n        i0.ÉµÉµelementStart(13, \"mat-label\");\n        i0.ÉµÉµtext(14, \"Filter\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(15, \"input\", 6, 7);\n        i0.ÉµÉµlistener(\"keyup\", function IngredientsDBComponent_Template_input_keyup_15_listener($event) {\n          return ctx.applyFilter($event);\n        });\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(17, \"div\", 8);\n        i0.ÉµÉµelementStart(18, \"table\", 9);\n        i0.ÉµÉµelementContainerStart(19, 10);\n        i0.ÉµÉµtemplate(20, IngredientsDBComponent_th_20_Template, 2, 0, \"th\", 11);\n        i0.ÉµÉµtemplate(21, IngredientsDBComponent_td_21_Template, 2, 1, \"td\", 12);\n        i0.ÉµÉµelementContainerEnd();\n        i0.ÉµÉµelementContainerStart(22, 13);\n        i0.ÉµÉµtemplate(23, IngredientsDBComponent_th_23_Template, 2, 0, \"th\", 14);\n        i0.ÉµÉµtemplate(24, IngredientsDBComponent_td_24_Template, 2, 1, \"td\", 15);\n        i0.ÉµÉµelementContainerEnd();\n        i0.ÉµÉµelementContainerStart(25, 16);\n        i0.ÉµÉµtemplate(26, IngredientsDBComponent_th_26_Template, 1, 0, \"th\", 17);\n        i0.ÉµÉµtemplate(27, IngredientsDBComponent_td_27_Template, 7, 0, \"td\", 15);\n        i0.ÉµÉµelementContainerEnd();\n        i0.ÉµÉµtemplate(28, IngredientsDBComponent_tr_28_Template, 1, 0, \"tr\", 18);\n        i0.ÉµÉµtemplate(29, IngredientsDBComponent_tr_29_Template, 1, 0, \"tr\", 19);\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelement(30, \"mat-paginator\", 20, 21);\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ÉµÉµadvance(9);\n        i0.ÉµÉµproperty(\"editMode\", ctx.editMode);\n        i0.ÉµÉµadvance(9);\n        i0.ÉµÉµproperty(\"dataSource\", ctx.ING_DATA);\n        i0.ÉµÉµadvance(10);\n        i0.ÉµÉµproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"length\", 200)(\"pageSizeOptions\", ctx.pageSizeOptions);\n      }\n    },\n    styles: [\"table{width:100%}.colName{width:30%}.colNotes{width:50%}.colActions{width:20%}.tableAction{margin-left:2rem;cursor:pointer}\\n\"],\n    encapsulation: 2\n  });\n  return IngredientsDBComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}