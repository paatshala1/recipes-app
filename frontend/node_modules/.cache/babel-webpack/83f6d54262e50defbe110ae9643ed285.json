{"ast":null,"code":"import _asyncToGenerator from \"/home/herm/OneDrive/LinuxLite/Progra/DesarrolloWeb/Angular/Projects/recipes-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/material/button\";\nexport class ImageUploadComponent {\n  constructor(fb, _snackbar) {\n    this.fb = fb;\n    this._snackbar = _snackbar;\n    this.UploadImageForm = this.fb.group({\n      recipeImage: new FormControl('', Validators.required)\n    });\n  }\n\n  ngOnInit() {}\n\n  onImageSelected(event) {\n    if (event.target.files && event.target.files[0]) {\n      this.file = event.target.files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(this.file);\n\n      reader.onload = () => {\n        return this.photoSelected = reader.result;\n      };\n    }\n  }\n\n  uploadImage() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this._snackbar.open('Cargando imagen...', '', {\n        duration: 2000,\n        horizontalPosition: 'center',\n        verticalPosition: 'bottom'\n      });\n\n      _this._snackbar.open('Imagen cargada...', '', {\n        duration: 1500,\n        horizontalPosition: 'center',\n        verticalPosition: 'bottom'\n      });\n    })();\n  }\n\n}\n\nImageUploadComponent.ɵfac = function ImageUploadComponent_Factory(t) {\n  return new (t || ImageUploadComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.MatSnackBar));\n};\n\nImageUploadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ImageUploadComponent,\n  selectors: [[\"app-image-upload\"]],\n  decls: 8,\n  vars: 2,\n  consts: [[\"action\", \"/image\", \"method\", \"POST\", \"enctype\", \"multipart/form-data\", 3, \"formGroup\", \"submit\"], [\"type\", \"file\", \"name\", \"recipeImage\", \"id\", \"\", \"hidden\", \"\", \"required\", \"false\", 3, \"change\"], [\"fileUpload\", \"\"], [1, \"noImage\"], [\"alt\", \"No image\", 3, \"src\", \"click\"], [\"type\", \"submit\", \"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"acceptButton\"]],\n  template: function ImageUploadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"submit\", function ImageUploadComponent_Template_form_submit_0_listener() {\n        return ctx.uploadImage();\n      });\n      i0.ɵɵelementStart(1, \"input\", 1, 2);\n      i0.ɵɵlistener(\"change\", function ImageUploadComponent_Template_input_change_1_listener($event) {\n        return ctx.onImageSelected($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"img\", 4);\n      i0.ɵɵlistener(\"click\", function ImageUploadComponent_Template_img_click_4_listener() {\n        i0.ɵɵrestoreView(_r1);\n\n        const _r0 = i0.ɵɵreference(2);\n\n        return _r0.click();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\");\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵtext(7, \"Cargar foto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.UploadImageForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"src\", ctx.photoSelected || \"./assets/img/noImage.jpg\", i0.ɵɵsanitizeUrl);\n    }\n  },\n  directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i3.MatButton],\n  styles: [\".noImage[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  width: 200px;\\n  height: 200px;\\n  overflow: hidden;\\n}\\n\\n\\nimg[_ngcontent-%COMP%] {\\n  width: 200px;\\n  height: 200px;\\n  margin-bottom: 1rem;\\n  object-fit: cover;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltYWdlLXVwbG9hZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0Qix1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLGFBQWE7RUFDYixnQkFBZ0I7QUFDbEI7OztBQUdBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsaUJBQWlCO0FBQ25CIiwiZmlsZSI6ImltYWdlLXVwbG9hZC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5vSW1hZ2Uge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDIwMHB4O1xuICBoZWlnaHQ6IDIwMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG5cbmltZyB7XG4gIHdpZHRoOiAyMDBweDtcbiAgaGVpZ2h0OiAyMDBweDtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59XG4iXX0= */\"]\n});","map":{"version":3,"sources":["/home/herm/OneDrive/LinuxLite/Progra/DesarrolloWeb/Angular/Projects/recipes-app/frontend/src/app/components/image-upload/image-upload.component.ts"],"names":["FormControl","Validators","i0","i1","i2","i3","ImageUploadComponent","constructor","fb","_snackbar","UploadImageForm","group","recipeImage","required","ngOnInit","onImageSelected","event","target","files","file","reader","FileReader","readAsDataURL","onload","photoSelected","result","uploadImage","open","duration","horizontalPosition","verticalPosition","ɵfac","ImageUploadComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","MatSnackBar","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ImageUploadComponent_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ImageUploadComponent_Template_form_submit_0_listener","ImageUploadComponent_Template_input_change_1_listener","$event","ɵɵelementEnd","ImageUploadComponent_Template_img_click_4_listener","ɵɵrestoreView","_r0","ɵɵreference","click","ɵɵtext","ɵɵproperty","ɵɵadvance","ɵɵsanitizeUrl","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","MatButton","styles"],"mappings":"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","sourcesContent":["import { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/material/button\";\nexport class ImageUploadComponent {\n    constructor(fb, _snackbar) {\n        this.fb = fb;\n        this._snackbar = _snackbar;\n        this.UploadImageForm = this.fb.group({\n            recipeImage: new FormControl('', Validators.required)\n        });\n    }\n    ngOnInit() {\n    }\n    onImageSelected(event) {\n        if (event.target.files && event.target.files[0]) {\n            this.file = event.target.files[0];\n            const reader = new FileReader();\n            reader.readAsDataURL(this.file);\n            reader.onload = () => {\n                return this.photoSelected = reader.result;\n            };\n        }\n    }\n    async uploadImage() {\n        this._snackbar.open('Cargando imagen...', '', {\n            duration: 2000,\n            horizontalPosition: 'center',\n            verticalPosition: 'bottom'\n        });\n        this._snackbar.open('Imagen cargada...', '', {\n            duration: 1500,\n            horizontalPosition: 'center',\n            verticalPosition: 'bottom'\n        });\n    }\n}\nImageUploadComponent.ɵfac = function ImageUploadComponent_Factory(t) { return new (t || ImageUploadComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.MatSnackBar)); };\nImageUploadComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ImageUploadComponent, selectors: [[\"app-image-upload\"]], decls: 8, vars: 2, consts: [[\"action\", \"/image\", \"method\", \"POST\", \"enctype\", \"multipart/form-data\", 3, \"formGroup\", \"submit\"], [\"type\", \"file\", \"name\", \"recipeImage\", \"id\", \"\", \"hidden\", \"\", \"required\", \"false\", 3, \"change\"], [\"fileUpload\", \"\"], [1, \"noImage\"], [\"alt\", \"No image\", 3, \"src\", \"click\"], [\"type\", \"submit\", \"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"acceptButton\"]], template: function ImageUploadComponent_Template(rf, ctx) { if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"submit\", function ImageUploadComponent_Template_form_submit_0_listener() { return ctx.uploadImage(); });\n        i0.ɵɵelementStart(1, \"input\", 1, 2);\n        i0.ɵɵlistener(\"change\", function ImageUploadComponent_Template_input_change_1_listener($event) { return ctx.onImageSelected($event); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"img\", 4);\n        i0.ɵɵlistener(\"click\", function ImageUploadComponent_Template_img_click_4_listener() { i0.ɵɵrestoreView(_r1); const _r0 = i0.ɵɵreference(2); return _r0.click(); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\");\n        i0.ɵɵelementStart(6, \"button\", 5);\n        i0.ɵɵtext(7, \"Cargar foto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.UploadImageForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"src\", ctx.photoSelected || \"./assets/img/noImage.jpg\", i0.ɵɵsanitizeUrl);\n    } }, directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i3.MatButton], styles: [\".noImage[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  width: 200px;\\n  height: 200px;\\n  overflow: hidden;\\n}\\n\\n\\nimg[_ngcontent-%COMP%] {\\n  width: 200px;\\n  height: 200px;\\n  margin-bottom: 1rem;\\n  object-fit: cover;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltYWdlLXVwbG9hZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0Qix1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLGFBQWE7RUFDYixnQkFBZ0I7QUFDbEI7OztBQUdBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsaUJBQWlCO0FBQ25CIiwiZmlsZSI6ImltYWdlLXVwbG9hZC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5vSW1hZ2Uge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDIwMHB4O1xuICBoZWlnaHQ6IDIwMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG5cbmltZyB7XG4gIHdpZHRoOiAyMDBweDtcbiAgaGVpZ2h0OiAyMDBweDtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59XG4iXX0= */\"] });\n"]},"metadata":{},"sourceType":"module"}