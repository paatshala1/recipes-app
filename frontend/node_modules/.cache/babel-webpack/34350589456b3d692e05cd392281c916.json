{"ast":null,"code":"import _asyncToGenerator from \"/home/herm/OneDrive/LinuxLite/Progra/DesarrolloWeb/Angular/Projects/recipes-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Validators } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/ingredientsDB.service\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"../ingredientsDB/ingredientsDB.component\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/button\";\n\nfunction CreateIngredientComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"button\", 6);\n    i0.ÉµÉµtext(1, \"Agregar\");\n    i0.ÉµÉµelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµproperty(\"disabled\", ctx_r1.IngredientForm.invalid);\n  }\n}\n\nfunction CreateIngredientComponent_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"button\", 7);\n    i0.ÉµÉµtext(1, \"Actualizar\");\n    i0.ÉµÉµelementEnd();\n  }\n}\n\nexport class CreateIngredientComponent {\n  constructor(formBuilder, ingsDBService, _snackbar, ingsDbComp) {\n    this.formBuilder = formBuilder;\n    this.ingsDBService = ingsDBService;\n    this._snackbar = _snackbar;\n    this.ingsDbComp = ingsDbComp;\n    this.edit$ = new Observable(susc => {\n      susc.next(this.editMode);\n      console.log('ðŸš€ ~ CreateIngredientComponent ~ this.editMode', this.editMode);\n      console.log('ðŸš€ ~ CreateIngredientComponent ~ edit$', this.edit$);\n    });\n    this.observer = {\n      next: () => {\n        var _a, _b;\n\n        console.log('OBSERVABLE MODIFICADO');\n        console.log(this.editMode);\n        (_a = this.IngredientForm.get('name')) === null || _a === void 0 ? void 0 : _a.setValue(this.editMode[0].name);\n        (_b = this.IngredientForm.get('notes')) === null || _b === void 0 ? void 0 : _b.setValue(this.editMode[0].notes);\n      },\n      complete: () => console.log('COMPLETADO')\n    };\n    this.IngredientForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      notes: ['']\n    });\n  }\n\n  ngOnInit() {\n    var _a, _b;\n\n    (_a = this.IngredientForm.get('name')) === null || _a === void 0 ? void 0 : _a.setValue(this.editMode[0].name);\n    (_b = this.IngredientForm.get('notes')) === null || _b === void 0 ? void 0 : _b.setValue(this.editMode[0].notes);\n    this.edit$.subscribe(this.observer);\n  }\n\n  addOrEditIngredient(form, formDirective) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      // console.log(form.value);\n      // console.log(this.editMode[0]);\n      if (!_this.editMode[1]) {\n        console.log('ADDING');\n\n        _this.ingsDBService.addIngredient(form.value).subscribe(res => {\n          _this.ingsDbComp.loadIngredientsDB();\n\n          form.reset('');\n          form.setValue({\n            name: '',\n            notes: ''\n          });\n\n          _this._snackbar.open('Ingrediente creado exitosamente', '', {\n            verticalPosition: 'top',\n            duration: 1500,\n            horizontalPosition: 'right'\n          });\n        }, err => console.log(err)); // formDirective.resetForm(); \n\n      } else {\n        console.log('EDITING');\n        console.log(_this.editMode);\n        yield set;\n\n        _this.ingsDBService.updateIngredient(form.value, _this.editMode[0]._id).subscribe(res => {\n          form.reset('');\n          _this.editMode[1] = false;\n\n          _this.ingsDbComp.loadIngredientsDB();\n        }, err => console.log(err));\n      }\n    })();\n  }\n\n  setEditValues() {\n    var _a, _b;\n\n    (_a = this.IngredientForm.get('name')) === null || _a === void 0 ? void 0 : _a.setValue(this.editMode[0].name);\n    (_b = this.IngredientForm.get('notes')) === null || _b === void 0 ? void 0 : _b.setValue(this.editMode[0].notes);\n    console.log('FORM ACTUALIZADO');\n  }\n\n}\n\nCreateIngredientComponent.Éµfac = function CreateIngredientComponent_Factory(t) {\n  return new (t || CreateIngredientComponent)(i0.ÉµÉµdirectiveInject(i1.FormBuilder), i0.ÉµÉµdirectiveInject(i2.IngredientsDBService), i0.ÉµÉµdirectiveInject(i3.MatSnackBar), i0.ÉµÉµdirectiveInject(i4.IngredientsDBComponent));\n};\n\nCreateIngredientComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n  type: CreateIngredientComponent,\n  selectors: [[\"app-create-ingredient\"]],\n  inputs: {\n    editMode: \"editMode\"\n  },\n  decls: 13,\n  vars: 5,\n  consts: [[1, \"newIngredient\", 3, \"formGroup\", \"ngSubmit\"], [\"formDirective\", \"ngForm\"], [\"type\", \"text\", \"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"name\", 3, \"value\"], [\"type\", \"text\", \"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"notes\", 3, \"value\"], [\"class\", \"acceptButton\", \"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\", 4, \"ngIf\"], [\"class\", \"acceptButton\", \"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 1, \"acceptButton\", 3, \"disabled\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 1, \"acceptButton\"]],\n  template: function CreateIngredientComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r3 = i0.ÉµÉµgetCurrentView();\n\n      i0.ÉµÉµelementStart(0, \"div\");\n      i0.ÉµÉµelementStart(1, \"form\", 0, 1);\n      i0.ÉµÉµlistener(\"ngSubmit\", function CreateIngredientComponent_Template_form_ngSubmit_1_listener() {\n        i0.ÉµÉµrestoreView(_r3);\n\n        const _r0 = i0.ÉµÉµreference(2);\n\n        return ctx.addOrEditIngredient(ctx.IngredientForm, _r0);\n      });\n      i0.ÉµÉµelementStart(3, \"mat-form-field\");\n      i0.ÉµÉµelementStart(4, \"mat-label\");\n      i0.ÉµÉµtext(5, \"Ingrediente (nombre)\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelement(6, \"input\", 2);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(7, \"mat-form-field\");\n      i0.ÉµÉµelementStart(8, \"mat-label\");\n      i0.ÉµÉµtext(9, \"Notas\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelement(10, \"input\", 3);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµtemplate(11, CreateIngredientComponent_button_11_Template, 2, 1, \"button\", 4);\n      i0.ÉµÉµtemplate(12, CreateIngredientComponent_button_12_Template, 2, 0, \"button\", 5);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ÉµÉµadvance(1);\n      i0.ÉµÉµproperty(\"formGroup\", ctx.IngredientForm);\n      i0.ÉµÉµadvance(5);\n      i0.ÉµÉµpropertyInterpolate(\"value\", ctx.editMode[0].name);\n      i0.ÉµÉµadvance(4);\n      i0.ÉµÉµpropertyInterpolate(\"value\", ctx.editMode[0].notes);\n      i0.ÉµÉµadvance(1);\n      i0.ÉµÉµproperty(\"ngIf\", !ctx.editMode[1]);\n      i0.ÉµÉµadvance(1);\n      i0.ÉµÉµproperty(\"ngIf\", ctx.editMode[1]);\n    }\n  },\n  directives: [i1.ÉµNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i5.MatFormField, i5.MatLabel, i6.MatInput, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i7.NgIf, i8.MatButton],\n  styles: [\"input[_ngcontent-%COMP%] {\\n  height: 2.2rem;\\n  font-size: 1.82rem;\\n}\\n\\nmat-form-field[_ngcontent-%COMP%], button[_ngcontent-%COMP%] {\\n  margin: 1rem;\\n}\\n\\n.newIngredient[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.ng-invalid.ng-untouched[_ngcontent-%COMP%]:not(form):not(div):not(mat-form-field) {\\n  border-left: 5px solid #42A948; \\n}\\n\\n.ng-invalid.ng-touched[_ngcontent-%COMP%]:not(form):not(div)  {\\n  border-left: 5px solid #a94442; \\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0ZS1pbmdyZWRpZW50LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2Qsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtBQUNyQjs7QUFHQTtFQUNFLDhCQUE4QixFQUFFLFVBQVU7QUFDNUM7O0FBRUE7RUFDRSw4QkFBOEIsRUFBRSxRQUFRO0FBQzFDIiwiZmlsZSI6ImNyZWF0ZS1pbmdyZWRpZW50LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpbnB1dCB7XG4gIGhlaWdodDogMi4ycmVtO1xuICBmb250LXNpemU6IDEuODJyZW07XG59XG5cbm1hdC1mb3JtLWZpZWxkLCBidXR0b24ge1xuICBtYXJnaW46IDFyZW07XG59XG5cbi5uZXdJbmdyZWRpZW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuXG4ubmctaW52YWxpZC5uZy11bnRvdWNoZWQ6bm90KGZvcm0pOm5vdChkaXYpOm5vdChtYXQtZm9ybS1maWVsZCkge1xuICBib3JkZXItbGVmdDogNXB4IHNvbGlkICM0MkE5NDg7IC8qIGdyZWVuICovXG59XG4gIFxuLm5nLWludmFsaWQubmctdG91Y2hlZDpub3QoZm9ybSk6bm90KGRpdikgIHtcbiAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjYTk0NDQyOyAvKiByZWQgKi9cbn1cbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/home/herm/OneDrive/LinuxLite/Progra/DesarrolloWeb/Angular/Projects/recipes-app/frontend/src/app/create-ingredient/create-ingredient.component.ts"],"names":["Validators","Observable","i0","i1","i2","i3","i4","i5","i6","i7","i8","CreateIngredientComponent_button_11_Template","rf","ctx","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ctx_r1","ÉµÉµnextContext","ÉµÉµproperty","IngredientForm","invalid","CreateIngredientComponent_button_12_Template","CreateIngredientComponent","constructor","formBuilder","ingsDBService","_snackbar","ingsDbComp","edit$","susc","next","editMode","console","log","observer","_a","_b","get","setValue","name","notes","complete","group","required","ngOnInit","subscribe","addOrEditIngredient","form","formDirective","addIngredient","value","res","loadIngredientsDB","reset","open","verticalPosition","duration","horizontalPosition","err","set","updateIngredient","_id","setEditValues","Éµfac","CreateIngredientComponent_Factory","t","ÉµÉµdirectiveInject","FormBuilder","IngredientsDBService","MatSnackBar","IngredientsDBComponent","Éµcmp","ÉµÉµdefineComponent","type","selectors","inputs","decls","vars","consts","template","CreateIngredientComponent_Template","_r3","ÉµÉµgetCurrentView","ÉµÉµlistener","CreateIngredientComponent_Template_form_ngSubmit_1_listener","ÉµÉµrestoreView","_r0","ÉµÉµreference","ÉµÉµelement","ÉµÉµtemplate","ÉµÉµadvance","ÉµÉµpropertyInterpolate","directives","ÉµNgNoValidate","NgControlStatusGroup","FormGroupDirective","MatFormField","MatLabel","MatInput","DefaultValueAccessor","NgControlStatus","FormControlName","NgIf","MatButton","styles"],"mappings":"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","sourcesContent":["import { Validators } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/ingredientsDB.service\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"../ingredientsDB/ingredientsDB.component\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/button\";\nfunction CreateIngredientComponent_button_11_Template(rf, ctx) { if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"button\", 6);\n    i0.ÉµÉµtext(1, \"Agregar\");\n    i0.ÉµÉµelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµproperty(\"disabled\", ctx_r1.IngredientForm.invalid);\n} }\nfunction CreateIngredientComponent_button_12_Template(rf, ctx) { if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"button\", 7);\n    i0.ÉµÉµtext(1, \"Actualizar\");\n    i0.ÉµÉµelementEnd();\n} }\nexport class CreateIngredientComponent {\n    constructor(formBuilder, ingsDBService, _snackbar, ingsDbComp) {\n        this.formBuilder = formBuilder;\n        this.ingsDBService = ingsDBService;\n        this._snackbar = _snackbar;\n        this.ingsDbComp = ingsDbComp;\n        this.edit$ = new Observable(susc => {\n            susc.next(this.editMode);\n            console.log('ðŸš€ ~ CreateIngredientComponent ~ this.editMode', this.editMode);\n            console.log('ðŸš€ ~ CreateIngredientComponent ~ edit$', this.edit$);\n        });\n        this.observer = {\n            next: () => {\n                var _a, _b;\n                console.log('OBSERVABLE MODIFICADO');\n                console.log(this.editMode);\n                (_a = this.IngredientForm.get('name')) === null || _a === void 0 ? void 0 : _a.setValue(this.editMode[0].name);\n                (_b = this.IngredientForm.get('notes')) === null || _b === void 0 ? void 0 : _b.setValue(this.editMode[0].notes);\n            },\n            complete: () => console.log('COMPLETADO')\n        };\n        this.IngredientForm = this.formBuilder.group({\n            name: ['', Validators.required],\n            notes: ['']\n        });\n    }\n    ngOnInit() {\n        var _a, _b;\n        (_a = this.IngredientForm.get('name')) === null || _a === void 0 ? void 0 : _a.setValue(this.editMode[0].name);\n        (_b = this.IngredientForm.get('notes')) === null || _b === void 0 ? void 0 : _b.setValue(this.editMode[0].notes);\n        this.edit$.subscribe(this.observer);\n    }\n    async addOrEditIngredient(form, formDirective) {\n        // console.log(form.value);\n        // console.log(this.editMode[0]);\n        if (!this.editMode[1]) {\n            console.log('ADDING');\n            this.ingsDBService.addIngredient(form.value).subscribe(res => {\n                this.ingsDbComp.loadIngredientsDB();\n                form.reset('');\n                form.setValue({ name: '',\n                    notes: '' });\n                this._snackbar.open('Ingrediente creado exitosamente', '', {\n                    verticalPosition: 'top',\n                    duration: 1500,\n                    horizontalPosition: 'right'\n                });\n            }, err => console.log(err));\n            // formDirective.resetForm(); \n        }\n        else {\n            console.log('EDITING');\n            console.log(this.editMode);\n            await set;\n            this.ingsDBService.updateIngredient(form.value, this.editMode[0]._id).subscribe(res => {\n                form.reset('');\n                this.editMode[1] = false;\n                this.ingsDbComp.loadIngredientsDB();\n            }, err => console.log(err));\n        }\n    }\n    setEditValues() {\n        var _a, _b;\n        (_a = this.IngredientForm.get('name')) === null || _a === void 0 ? void 0 : _a.setValue(this.editMode[0].name);\n        (_b = this.IngredientForm.get('notes')) === null || _b === void 0 ? void 0 : _b.setValue(this.editMode[0].notes);\n        console.log('FORM ACTUALIZADO');\n    }\n}\nCreateIngredientComponent.Éµfac = function CreateIngredientComponent_Factory(t) { return new (t || CreateIngredientComponent)(i0.ÉµÉµdirectiveInject(i1.FormBuilder), i0.ÉµÉµdirectiveInject(i2.IngredientsDBService), i0.ÉµÉµdirectiveInject(i3.MatSnackBar), i0.ÉµÉµdirectiveInject(i4.IngredientsDBComponent)); };\nCreateIngredientComponent.Éµcmp = /*@__PURE__*/ i0.ÉµÉµdefineComponent({ type: CreateIngredientComponent, selectors: [[\"app-create-ingredient\"]], inputs: { editMode: \"editMode\" }, decls: 13, vars: 5, consts: [[1, \"newIngredient\", 3, \"formGroup\", \"ngSubmit\"], [\"formDirective\", \"ngForm\"], [\"type\", \"text\", \"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"name\", 3, \"value\"], [\"type\", \"text\", \"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"notes\", 3, \"value\"], [\"class\", \"acceptButton\", \"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\", 4, \"ngIf\"], [\"class\", \"acceptButton\", \"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 1, \"acceptButton\", 3, \"disabled\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 1, \"acceptButton\"]], template: function CreateIngredientComponent_Template(rf, ctx) { if (rf & 1) {\n        const _r3 = i0.ÉµÉµgetCurrentView();\n        i0.ÉµÉµelementStart(0, \"div\");\n        i0.ÉµÉµelementStart(1, \"form\", 0, 1);\n        i0.ÉµÉµlistener(\"ngSubmit\", function CreateIngredientComponent_Template_form_ngSubmit_1_listener() { i0.ÉµÉµrestoreView(_r3); const _r0 = i0.ÉµÉµreference(2); return ctx.addOrEditIngredient(ctx.IngredientForm, _r0); });\n        i0.ÉµÉµelementStart(3, \"mat-form-field\");\n        i0.ÉµÉµelementStart(4, \"mat-label\");\n        i0.ÉµÉµtext(5, \"Ingrediente (nombre)\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelement(6, \"input\", 2);\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(7, \"mat-form-field\");\n        i0.ÉµÉµelementStart(8, \"mat-label\");\n        i0.ÉµÉµtext(9, \"Notas\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelement(10, \"input\", 3);\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµtemplate(11, CreateIngredientComponent_button_11_Template, 2, 1, \"button\", 4);\n        i0.ÉµÉµtemplate(12, CreateIngredientComponent_button_12_Template, 2, 0, \"button\", 5);\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementEnd();\n    } if (rf & 2) {\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"formGroup\", ctx.IngredientForm);\n        i0.ÉµÉµadvance(5);\n        i0.ÉµÉµpropertyInterpolate(\"value\", ctx.editMode[0].name);\n        i0.ÉµÉµadvance(4);\n        i0.ÉµÉµpropertyInterpolate(\"value\", ctx.editMode[0].notes);\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"ngIf\", !ctx.editMode[1]);\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"ngIf\", ctx.editMode[1]);\n    } }, directives: [i1.ÉµNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i5.MatFormField, i5.MatLabel, i6.MatInput, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i7.NgIf, i8.MatButton], styles: [\"input[_ngcontent-%COMP%] {\\n  height: 2.2rem;\\n  font-size: 1.82rem;\\n}\\n\\nmat-form-field[_ngcontent-%COMP%], button[_ngcontent-%COMP%] {\\n  margin: 1rem;\\n}\\n\\n.newIngredient[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.ng-invalid.ng-untouched[_ngcontent-%COMP%]:not(form):not(div):not(mat-form-field) {\\n  border-left: 5px solid #42A948; \\n}\\n\\n.ng-invalid.ng-touched[_ngcontent-%COMP%]:not(form):not(div)  {\\n  border-left: 5px solid #a94442; \\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0ZS1pbmdyZWRpZW50LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2Qsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtBQUNyQjs7QUFHQTtFQUNFLDhCQUE4QixFQUFFLFVBQVU7QUFDNUM7O0FBRUE7RUFDRSw4QkFBOEIsRUFBRSxRQUFRO0FBQzFDIiwiZmlsZSI6ImNyZWF0ZS1pbmdyZWRpZW50LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpbnB1dCB7XG4gIGhlaWdodDogMi4ycmVtO1xuICBmb250LXNpemU6IDEuODJyZW07XG59XG5cbm1hdC1mb3JtLWZpZWxkLCBidXR0b24ge1xuICBtYXJnaW46IDFyZW07XG59XG5cbi5uZXdJbmdyZWRpZW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuXG4ubmctaW52YWxpZC5uZy11bnRvdWNoZWQ6bm90KGZvcm0pOm5vdChkaXYpOm5vdChtYXQtZm9ybS1maWVsZCkge1xuICBib3JkZXItbGVmdDogNXB4IHNvbGlkICM0MkE5NDg7IC8qIGdyZWVuICovXG59XG4gIFxuLm5nLWludmFsaWQubmctdG91Y2hlZDpub3QoZm9ybSk6bm90KGRpdikgIHtcbiAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjYTk0NDQyOyAvKiByZWQgKi9cbn1cbiJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}